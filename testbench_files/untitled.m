function Hd = untitled
%UNTITLED Returns a discrete-time filter object.

% MATLAB Code
% Generated by MATLAB(R) 8.5 and the DSP System Toolbox 9.0.
% Generated on: 30-Oct-2015 15:52:49

% Equiripple Lowpass filter designed using the FIRPM function.

% All frequency values are normalized to 1.

N     = 255;   % Order
Fpass = 0.22;  % Passband Frequency
Fstop = 0.25;  % Stopband Frequency
Wpass = 1;     % Passband Weight
Wstop = 2;     % Stopband Weight
dens  = 20;    % Density Factor

% Calculate the coefficients using the FIRPM function.
b  = firpm(N, [0 Fpass Fstop 1], [1 1 0 0], [Wpass Wstop], {dens});
Hd = dfilt.dffir(b);
% Set the arithmetic property.
set(Hd, 'Arithmetic', 'fixed', ...
    'CoeffWordLength', 16, ...
    'CoeffAutoScale', true, ...
    'Signed',         true, ...
    'InputWordLength', 16, ...
    'inputFracLength', 15, ...
    'FilterInternals',  'FullPrecision');
normalize(Hd);


% [EOF]

FileName='/home/ariel/git/vhdl-adc/testbench_files/coefs.txt';
fileID=fopen(FileName,'w')
h=b;
coefficients=h;
fprintf(fileID,'%.0f,',h((1+20*(i-1)):numel(h)));%pone los coeficientes separados por ',' de a 20
fprintf(fileID,'\n\t\t');
fprintf(fileID,'%.0f,',h((20*final+1):(length(coefficients)-1)));
fprintf(fileID,'%.0f\n\t\t',h(length(coefficients)));%el que va sin ','
fclose(fileID);